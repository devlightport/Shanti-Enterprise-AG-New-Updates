{%- if settings.quickview_button_type != 'none' -%}
	<link
		rel="preload"
		href="{{ 'section-main-product.css' | asset_url }}"
		as="style"
		onload="this.onload=null;this.rel='stylesheet'"
	>
	<link
		rel="stylesheet"
		href="{{ 'component-deferred-media.css' | asset_url }}"
		media="all"
	>
	<link
		rel="preload"
		href="{{ 'quick-add.css' | asset_url }}"
		as="style"
		onload="this.onload=null;this.rel='stylesheet'"
	>
	{%- assign first_3d_model = product_card_product.media
		| where: 'media_type', 'model'
		| first
	-%}
	{%- if first_3d_model -%}
		{{ 'component-product-model.css' | asset_url | stylesheet_tag }}
		<link
			id="ModelViewerStyle"
			rel="stylesheet"
			href="https://cdn.shopify.com/shopifycloud/model-viewer-ui/assets/v1.0/model-viewer-ui.css"
			media="print"
			onload="this.media='all'"
		>
		<link
			id="ModelViewerOverride"
			rel="stylesheet"
			href="{{ 'component-model-viewer-ui.css' | asset_url }}"
			media="print"
			onload="this.media='all'"
		>
	{%- endif -%}
	{%- if first_3d_model -%}
		<script type="application/json" id="ProductJSON-{{ product.id }}">
			{{ product_card_product.media | where: 'media_type', 'model' | json }}
		</script>
		<script src="{{ 'product-model.js' | asset_url }}" defer></script>
	{%- endif -%}
{%- endif -%}

{% liquid
	case media_size
		when 'landscape'
			assign image_size = '70%'
		when 'portrait'
			assign image_size = '130%'
		when 'square'
			assign image_size = '100%'
		else
			assign image_size = '130%'
	endcase

	if media_fit == blank
		assign imgae_fit = 'cover'
	else
		assign imgae_fit = media_fit
	endif
%}

<div class="card-wrapper quickview--hover">
	<div class="card card--product " tabindex="-1">
		<div
			class="media  media--hover-effect"
			style="padding-bottom: {{ image_size }};"
		>
			{% if product_card_product.featured_media %}
				{%- capture style -%}
					object-position: {{ product_card_product.media.presentation.focal_point }};
					object-fit : {{ imgae_fit }};
				{%- endcapture -%}
				{{
					product_card_product.featured_media
					| image_url: width: 1296
					| image_tag:
						loading: 'lazy',
						width: product_card_product.media.width,
						height: image_height,
						sizes: '(min-width: 270px) 50vw, 100vw',
						widths: '375, 550, 750, 1100, 1500',
						class: 'motion-reduce media--first',
						style: style
				}}
				{%- if product_card_product.media[1] != null
					and show_secondary_image
				-%}
					{%- capture style -%}
						object-position: {{ product_card_product.media[1].presentation.focal_point }};
						object-fit : {{ imgae_fit }};
					{%- endcapture -%}
					{{
						product_card_product.media[1]
						| image_url: width: 1296
						| image_tag:
							loading: 'lazy',
							width: product_card_product.media[1].width,
							height: image_height,
							sizes: '(min-width: 270px) 50vw, 100vw',
							widths: '375, 550, 750, 1100, 1500',
							class: 'motion-reduce media--second',
							style: style
					}}
				{%- endif -%}
			{% elsif product_card_product.featured_media == blank %}
				{{ 'product-3' | placeholder_svg_tag: 'placeholder-svg' }}
			{% endif %}
		</div>
	</div>

	<div class="card-information">
		<div class="card-information__wrapper">
			{%- if show_vendor -%}
				<span class="visually-hidden">{{ 'accessibility.vendor' | t }}</span>
				{% if settings.enable_vendor_link %}
					<a
						href="{{ product_card_vendor }}"


{%- if show_vendor -%}
  {%- if settings.enable_vendor_link -%}
    <span class="unstyled-link caption-with-letter-spacing vendor-link subtitle">
      Shanti Enterprise AG
    </span>
  {%- else -%}
    <div class="caption-with-letter-spacing subtitle">
      Shanti Enterprise AG
    </div>
  {%- endif -%}
{%- endif -%}

 }}
					</div>
				{%- endif -%}
			{%- endif -%}
			{%- if show_collection_name -%}
				{%- for collection in product_card_product.collections limit: 1 -%}
					<a
						href="{{ collection.url }}"
						class="card__collection-title subtitle unstyled-link"
					>
						{{- collection.title | escape -}}
					</a>
				{%- endfor -%}
			{%- endif -%}
			<h3 class="card__title">
				{{ product_card_product.title | escape }}
			</h3>

			<div class="card-information__bottom">
				{% render 'price', product: product_card_product, price_class: '' %}
			</div>
		</div>
	</div>

	<div class="card__button">
		{%- if settings.quickview_button_type != 'none' -%}
			{%- if settings.quickview_button_type == 'quick-buy'
				and product_card_product.selected_or_first_available_variant.available
				and product_card_product.has_only_default_variant
				or product_card_product.options.size == 1
				and product_card_product.options[0] == settings.trigger_swatch
			-%}
				<div class="quick-add no-js-hidden">
					<product-form class="card__add-to-cart card__button ">
						{%- form 'product',
							product_card_product,
							id: product_form_id,
							class: 'form',
							novalidate: 'novalidate',
							data-type: 'add-to-cart-form'
						-%}
							<input
								type="hidden"
								name="id"
								value="{{ product_card_product.selected_or_first_available_variant.id }}"
								disabled
							>
							<button
								id="{{ product_form_id }}-submit"
								type="submit"
								class="card-focused button button--tertiary"
								name="add"
								aria-haspopup="dialog"
								aria-labelledby="{{ product_form_id }}-submit title-{{ section_id }}-{{ product_card_product.id }}"
								aria-live="polite"
								aria-label="quick-add"
								data-sold-out-message="true"
								{% if product_card_product.selected_or_first_available_variant.available
										== false
								%}
									disabled
								{% endif %}
							>
								{% if settings.quickview_button_style == 'link' %}
									{% render 'icon-cart' %}
								{% else %}
									<span class="card__quickview-text button-label">
										{{- 'general.card.quick__add' | t -}}
									</span>
								{% endif %}
								<span class="sold-out-message hidden">
									{{ 'products.product.sold_out' | t }}
								</span>
								<b class="loading-overlay__spinner hidden">
									<svg
										aria-hidden="true"
										focusable="false"
										role="presentation"
										class="spinner"
										viewBox="0 0 66 66"
										xmlns="http://www.w3.org/2000/svg"
									>
										<circle class="path" fill="none" stroke-width="6" cx="33" cy="33" r="30"></circle>
									</svg>
								</b>
								<div class="button-icon">
									{% render 'icon-button-arrow' %}
								</div>
							</button>
						{%- endform -%}
					</product-form>
				</div>
			{%- else -%}
				<div class="quick-add no-js-hidden">
					<modal-opener data-modal="#QuickAdd-{{ product_card_product.id }}">
						<button
							id="{{ product_form_id }}-submit"
							type="submit"
							name="add"
							class="card-focused button button--tertiary"
							aria-haspopup="dialog"
							aria-label="quick-view-button"
							aria-labelledby="{{ product_form_id }}-submit title-{{ section_id }}-{{ product_card_product.id }}"
							data-product-url="{{ product_card_product.url }}"
						>
							{% if settings.quickview_button_style == 'link' %}
								{% render 'icon-eye' %}
							{% else %}
								<span class="button-label">
									{{- 'general.card.quick__view' | t -}}
								</span>
							{% endif %}
							<b class="loading-overlay__spinner hidden">
								<svg
									aria-hidden="true"
									focusable="false"
									role="presentation"
									class="spinner"
									viewBox="0 0 66 66"
									xmlns="http://www.w3.org/2000/svg"
								>
									<circle class="path" fill="none" stroke-width="6" cx="33" cy="33" r="30"></circle>
								</svg>
							</b>
							<div class="button-icon">
								{% render 'icon-button-arrow' %}
							</div>
						</button>
					</modal-opener>

					<quick-add-modal
						id="QuickAdd-{{ product_card_product.id }}"
						class="quick-add-modal"
					>
						<div
							role="dialog"
							aria-label="{{ 'products.product.choose_product_options' | t: product_name: product_card_product.title | escape }}"
							aria-modal="true"
							class="quick-add-modal__content global-settings-popup"
						>
							<div class="quick-add-modal_top">
								<p class="subtitle">{{ 'general.card.quick__view' | t }}</p>
								<button
									id="ModalClose-{{ product_card_product.id }}"
									type="button"
									class="quick-add-modal__toggle modal-close-button"
									aria-label="{{ 'accessibility.close' | t }}"
									tabindex="-1"
								>
									{% render 'icon-close' %}
								</button>
							</div>
							<div class="quick-add-modal__content-wrapper">
								<div
									id="QuickAddInfo-{{ product_card_product.id }}"
									class="quick-add-modal__content-info"
								></div>
							</div>
						</div>
					</quick-add-modal>
				</div>
			{%- endif -%}
		{%- endif -%}
	</div>
	<a
		href="{{ product_card_product.url | default: '#' }}"
		class="link link--overlay card-wrapper__link--overlay"
	></a>
</div>
