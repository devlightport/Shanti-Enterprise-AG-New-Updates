{{ 'component-collection-card.css' | asset_url | stylesheet_tag }}

{% liquid
	case media_size
		when 'landscape'
			assign section_size = '56.25%'
			assign margin_top = '30%'
		when 'portrait'
			assign section_size = '125%'
			assign margin_top = '97%'
		when 'square'
			assign section_size = '100%'
			assign margin_top = '60%'
		else
			assign section_size = '100%'
			assign margin_top = '60%'
	endcase
%}

<div
	class="collection-card{% if show_collection_desc == true and card_type == 'overlay' %} collection-none-overley{% endif %} {% if show_collection_desc == true  %} collection-none-standart{% endif %} {% if card_type == 'overlay' %} color-inverse{% endif %}{% if card_type_text != "standart" %} collection-card-reverse {% endif %}"
	style="--image-size: {{ section_size }};"
>
	<div class="collection-card__img-wrapper ">
		<div class="collection-card__img-type color-inverse">
			<a
				class="collection-card__img have-overlay"
				{% if block_collection != blank %}
					href="{{ url }}"
				{% endif %}
			>
				{% if block_image != blank
					or collection_image != blank
					or block_collection.featured_image
				%}
					{% liquid
						if block_image != blank
							assign collectionImg = block_image
						elsif collection_image != blank
							assign collectionImg = collection_image
						elsif block_collection.featured_image != blank
							assign collectionImg = block_collection.featured_image
						endif
						assign image_height = collectionImg.width | divided_by: collectionImg.aspect_ratio
						assign image_width = collectionImg.width
						assign sizes = '(min-width: 750px) 50vw, 100vw'
					%}
					{{
						collectionImg
						| image_url: width: 3840
						| image_tag:
							loading: 'lazy',
							width: image_width,
							height: image_height,
							sizes: sizes,
							widths: '375, 550, 750, 1100, 1500, 1780, 2000, 3000, 3840'
					}}
				{%- else -%}
					{{
						'collection-1'
						| placeholder_svg_tag: 'placeholder-svg placeholder'
					}}
				{% endif %}
			</a>
			{% if show_collection_desc %}
				<div class="collection-card__desc richtext__content medium-font">
					{%- if collection_desc != blank -%}
						{{ collection_desc }}
					{% else %}
						{{ 'collection.collection_desc' | t }}
					{%- endif -%}
				</div>
			{% endif %}
		</div>
	</div>
	<h5 class="collection-card__title {% if text_center == "center" %} collection-card__title-position{% endif %}  {% if card_type == 'overlay' %} h5 {% endif %}">
		<a
			class="full-unstyled-link"
			{% if block_collection != blank %}
				href="{{ url }}"
			{% endif %}
		>
			{% if block_collection != blank %}
				{{ collection_title }}
			{% else %}
				{{- 'general.card.collection_name' | t -}}
			{% endif %}
		</a>
	</h5>
</div>
