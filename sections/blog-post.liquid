{{ 'component-card.css' | asset_url | stylesheet_tag }}
{{ 'component-article-card.css' | asset_url | stylesheet_tag }}
{{ 'section-featured-blog.css' | asset_url | stylesheet_tag }}

{% style %}
	{% render 'section-margin' %}
	{% render 'section-padding' %}
	#shopify-section-{{ section.id }} {
		--per-row: {{ section.settings.per_row }};
	}
{% endstyle %}

<div
	data-id="shopify-section-{{ section.id }}"
	class="featured-blogs section-{{ section.id }}-padding{% if section.settings.enable_border_top %} section_border_top{% endif %}{% if section.settings.enable_border_bottom %} section_border_bottom{% endif %}"
>
	{% render 'section-header' %}
	<div class="container">
		<div class="blog__box blog__box-{{ section.settings.grid_type }}">
			<div class="blog__posts articles-wrapper">
				{%- for block in section.blocks -%}
					{% liquid
						assign condition = forloop.index | modulo: section.settings.per_row
						if condition == 0
							assign block_class = 'hide_border'
						else
							assign block_class = ''
						endif
					%}

					<div
						class="blog__post article{% if section.settings.grid_type == "standart" %} {{ block_class }}{% endif %}"
						data-id="{{ block.id }}"
					>
						{% style %}
							[data-id="{{ block.id }}"] .have-overlay {
								--overlay-alpha : {{ block.settings.overlay_opacity }}%;
							}
						{% endstyle %}
						{% render 'article-card',
							article: block.settings.article,
							show_image: block.settings.show_image,
							show_tags: block.settings.show_tags,
							show_date: block.settings.show_date,
							show_author: block.settings.show_author,
							show_excerpt: block.settings.show_excerpt,
							image_ratio: block.settings.image_ratio,
							image_fit: block.settings.image_fit,
							card_type: block.settings.card_type,
							heading_size: block.settings.heading_size,
							placeholder: true
						%}
					</div>
				{%- endfor -%}
			</div>
		</div>
	</div>
	{% render 'section-button' %}
</div>
{% schema %}
{
	"name": "t:sections.featured-blog.name",
	"tag": "section",
	"class": "spaced-section section-blog-post",
	"enabled_on": {
		"templates": ["*"]
	},
	"settings": [
		{
			"type": "select",
			"id": "grid_type",
			"label": "t:sections.featured-blog.settings.grid_type.label",
			"default": "type1",
			"options": [
				{
					"value": "standart",
					"label": "t:sections.featured-blog.settings.grid_type.options__1.label"
				},
				{
					"value": "type1",
					"label": "t:sections.featured-blog.settings.grid_type.options__2.label"
				},
				{
					"value": "type2",
					"label": "t:sections.featured-blog.settings.grid_type.options__3.label"
				}
			]
		},
		{
			"type": "range",
			"id": "per_row",
			"min": 1,
			"max": 6,
			"step": 1,
			"default": 4,
			"label": "t:sections.featured-blog.settings.per_row.label",
			"info": "t:sections.featured-blog.settings.per_row.info"
		},
		{
			"type": "inline_richtext",
			"id": "heading",
			"default": "Heading",
			"label": "t:sections.all.heading.label"
		},
		{
			"type": "richtext",
			"id": "description",
			"label": "t:sections.all.subheading.label"
		},
		{
			"type": "header",
			"content": "t:sections.all.button.header.content"
		},
		{
			"type": "text",
			"id": "button_label",
			"default": "Button label",
			"label": "t:sections.all.button.label.label",
			"info": "t:sections.all.button.label.info"
		},
		{
			"type": "url",
			"id": "button_link",
			"label": "t:sections.all.button.link.label"
		},
		{
			"type": "select",
			"id": "button_style",
			"options": [
				{
					"value": "primary",
					"label": "t:sections.all.button.style.options__1.label"
				},
				{
					"value": "secondary",
					"label": "t:sections.all.button.style.options__2.label"
				},
				{
					"value": "tertiary",
					"label": "t:sections.all.button.style.options__3.label"
				}
			],
			"default": "tertiary",
			"label": "t:sections.all.button.style.label"
		},
		{
			"type": "checkbox",
			"id": "button_arrow",
			"default": true,
			"label": "t:sections.all.button.arrow.label"
		},
		{
			"type": "header",
			"content": "t:sections.all.section-padding.header.content"
		},
		{
			"type": "select",
			"id": "padding_top",
			"options": [
				{
					"value": "no-indent",
					"label": "t:sections.all.section-padding.options__1.label"
				},
				{
					"value": "xs",
					"label": "t:sections.all.section-padding.options__2.label"
				},
				{
					"value": "s",
					"label": "t:sections.all.section-padding.options__3.label"
				},
				{
					"value": "m",
					"label": "t:sections.all.section-padding.options__4.label"
				},
				{
					"value": "l",
					"label": "t:sections.all.section-padding.options__5.label"
				}
			],
			"default": "s",
			"label": "t:sections.all.section-padding.padding_top.label"
		},
		{
			"type": "select",
			"id": "padding_bottom",
			"options": [
				{
					"value": "no-indent",
					"label": "t:sections.all.section-padding.options__1.label"
				},
				{
					"value": "xs",
					"label": "t:sections.all.section-padding.options__2.label"
				},
				{
					"value": "s",
					"label": "t:sections.all.section-padding.options__3.label"
				},
				{
					"value": "m",
					"label": "t:sections.all.section-padding.options__4.label"
				},
				{
					"value": "l",
					"label": "t:sections.all.section-padding.options__5.label"
				}
			],
			"default": "xs",
			"label": "t:sections.all.section-padding.padding_bottom.label"
		},
		{
			"type": "header",
			"content": "t:sections.all.section-margin.header.content"
		},
		{
			"type": "select",
			"id": "margin_top",
			"options": [
				{
					"value": "no-indent",
					"label": "t:sections.all.section-margin.options__1.label"
				},
				{
					"value": "xs",
					"label": "t:sections.all.section-margin.options__2.label"
				},
				{
					"value": "s",
					"label": "t:sections.all.section-margin.options__3.label"
				},
				{
					"value": "m",
					"label": "t:sections.all.section-margin.options__4.label"
				},
				{
					"value": "l",
					"label": "t:sections.all.section-margin.options__5.label"
				}
			],
			"default": "s",
			"label": "t:sections.all.section-margin.margin_top.label"
		},
		{
			"type": "select",
			"id": "margin_bottom",
			"options": [
				{
					"value": "no-indent",
					"label": "t:sections.all.section-margin.options__1.label"
				},
				{
					"value": "xs",
					"label": "t:sections.all.section-margin.options__2.label"
				},
				{
					"value": "s",
					"label": "t:sections.all.section-margin.options__3.label"
				},
				{
					"value": "m",
					"label": "t:sections.all.section-margin.options__4.label"
				},
				{
					"value": "l",
					"label": "t:sections.all.section-margin.options__5.label"
				}
			],
			"default": "xs",
			"label": "t:sections.all.section-margin.margin_bottom.label"
		},
		{
			"type": "header",
			"content": "t:sections.all.border.header.content"
		},
		{
			"type": "checkbox",
			"id": "enable_border_top",
			"default": true,
			"label": "t:sections.all.border.border_enable_top.label"
		},
		{
			"type": "checkbox",
			"id": "enable_border_bottom",
			"default": true,
			"label": "t:sections.all.border.border_enable_bottom.label"
		}
	],
	"blocks": [
		{
			"type": "article_block",
			"name": "t:sections.featured-blog.block.name",
			"limit": 12,
			"settings": [
				{
					"type": "article",
					"id": "article",
					"label": "t:sections.all.article_card.header.content"
				},
				{
					"type": "select",
					"id": "card_type",
					"label": "t:sections.all.article_card.card_type.label",
					"default": "default",
					"options": [
						{
							"value": "default",
							"label": "t:sections.all.article_card.card_type.options.option__1"
						},
						{
							"value": "overlay",
							"label": "t:sections.all.article_card.card_type.options.option__2"
						},
						{
							"value": "reverse",
							"label": "t:sections.all.article_card.card_type.options.option__3"
						}
					]
				},
				{
					"type": "range",
					"id": "overlay_opacity",
					"min": 0,
					"max": 100,
					"default": 30,
					"unit": "%",
					"label": "t:sections.all.overlay_opacity.label"
				},
				{
					"type": "checkbox",
					"id": "show_image",
					"default": true,
					"label": "t:sections.featured-blog.settings.show_image.label",
					"info": "t:sections.featured-blog.settings.show_image.info"
				},
				{
					"type": "checkbox",
					"id": "show_tags",
					"default": true,
					"label": "t:sections.main-blog.settings.show_tags.label"
				},
				{
					"type": "checkbox",
					"id": "show_date",
					"default": true,
					"label": "t:sections.featured-blog.settings.show_date.label"
				},
				{
					"type": "checkbox",
					"id": "show_author",
					"default": false,
					"label": "t:sections.featured-blog.settings.show_author.label"
				},
				{
					"type": "checkbox",
					"id": "show_excerpt",
					"default": false,
					"label": "t:sections.featured-blog.settings.show_excerpt.label"
				},
				{
					"type": "select",
					"id": "image_ratio",
					"options": [
						{
							"value": "landscape",
							"label": "t:sections.all.image.ratio.options__1.label"
						},
						{
							"value": "portrait",
							"label": "t:sections.all.image.ratio.options__2.label"
						},
						{
							"value": "square",
							"label": "t:sections.all.image.ratio.options__3.label"
						}
					],
					"default": "landscape",
					"label": "t:sections.all.image.ratio.label"
				},
				{
					"type": "select",
					"id": "image_fit",
					"label": "t:sections.all.image.fit.label",
					"options": [
						{
							"value": "contain",
							"label": "t:sections.all.image.fit.options__1.label"
						},
						{
							"value": "cover",
							"label": "t:sections.all.image.fit.options__2.label"
						}
					],
					"default": "cover"
				},
				{
					"type": "header",
					"content": "t:sections.all.heading.header.content"
				},
				{
					"type": "select",
					"id": "heading_size",
					"options": [
						{
							"value": "h5",
							"label": "t:sections.all.heading.size.options__1.label"
						},
						{
							"value": "h4",
							"label": "t:sections.all.heading.size.options__2.label"
						},
						{
							"value": "h3",
							"label": "t:sections.all.heading.size.options__3.label"
						},
						{
							"value": "h2",
							"label": "t:sections.all.heading.size.options__4.label"
						}
					],
					"default": "h5",
					"label": "t:sections.all.heading.size.label"
				}
			]
		}
	],
	"presets": [
		{
			"name": "t:sections.featured-blog.presets.name",
			"blocks": [
				{
					"type": "article_block"
				},
				{
					"type": "article_block"
				},
				{
					"type": "article_block"
				},
				{
					"type": "article_block"
				},
				{
					"type": "article_block"
				}
			]
		}
	]
}
{% endschema %}
